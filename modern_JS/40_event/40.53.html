<!DOCTYPE html>
<html lang="en">
<head>
</head>
<body>
    <button class="btn">Click me</button>
    <script>
        const $button = document.querySelector('.btn'); 

        // 버튼 요소에 foo 커스텀 이벤트 핸들러를 등록
        // 커스텀 이벤트를 디스패치하기 이전에 이벤트 핸들러를 등록해야 한다.
        $button.addEventListener('foo', e => {
            // e.detail에는 CustomEvent 함수의 두 번째 인수로 전달한 정보가 담겨 있다.
            alert(e.detail.message);
        });

       // CustomEvent 생성자 함수로 foo 이벤트 타입의 커스텀 이벤트 객체를 생성
        const customEvent = new CustomEvent('foo', {
            detail: { message: 'Hello Custom Event!' }
        });
        
        // 커스텀 이벤트 디스패치(동기 처리). foo 이벤트가 발생한다.
        $button.dispatchEvent(customEvent);
    </script>
</body>
</html>